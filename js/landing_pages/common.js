var _typeof=typeof Symbol==='function'&&typeof Symbol.iterator==='symbol'?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==='function'&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};// Check view width, add navbar height as offset if on desktop
function checkWidth(){var mq=window.matchMedia('(max-width: 1199px)');return mq.matches?50:document.getElementById('navigation').scrollHeight}function toggleMobileMenu(){var toggleButton=document.getElementById('toggle-menu');var navbar=document.getElementById('navigation');var navbar_item=document.getElementsByClassName('navbar-collapse')[0];var el_language_dropdown=document.getElementsByClassName('language-dropdown')[0];toggleButton.addEventListener('click',function(e){e.stopPropagation();navbar.classList.toggle('expand');navbar_item.classList.toggle('expand');if(el_language_dropdown&&/show/.test(el_language_dropdown.classList)){toggleAllSiblings(el_language_dropdown.parentNode,filterById,'invisible');el_language_dropdown.classList.remove('show')}})}function collapseMenu(){var navbar=document.getElementById('navigation');var navbar_item=document.getElementsByClassName('navbar-collapse')[0];if(navbar&&navbar_item){navbar.classList.remove('expand');navbar_item.classList.remove('expand')}}function checkBrowser(){var isFirefox=typeof InstallTrigger!=='undefined';// Firefox 1.0+
var isIE=/*@cc_on!@*/false||!!document.documentMode;// Internet Explorer 6-11
return isFirefox||isIE}// scrollTo function with animation
// - Gist reference: https://gist.github.com/andjosh/6764939
function scrollTo(to,duration){if(!duration)duration=1000;var start=window.pageYOffset,change=to-start,currentTime=0,increment=20;var animateScroll=function animateScroll(){currentTime+=increment;var val=Math.easeInOutQuad(currentTime,start,change,duration);document.body.scrollTop=val;document.documentElement.scrollTop=val;if(currentTime<duration){setTimeout(animateScroll,increment)}};animateScroll()}Math.easeInOutQuad=function(current_time,start_value,change_in_value,duration){current_time/=duration/2;if(current_time<1)return change_in_value/2*current_time*current_time+start_value;current_time--;return-change_in_value/2*(current_time*(current_time-2)-1)+start_value};function getParamValue(url,key){var regex=new RegExp('[?&]'+key+'(=([^&#]*)|&|#|$)');var results=regex.exec(url);if(!results||!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g,' '))}function getLanguage(){var all_languages=['en','de','es','fr','id','it','ja','pl','pt','ru','th','vi','zh_cn','zh_tw'];var language=window.location.href.toLowerCase().split('/').slice(3).find(function(l){return all_languages.indexOf(l)>=0});return language||'en'}function urlFor(path){var lang=getLanguage();var url=window.location.href;return''+url.substring(0,url.indexOf('/'+lang+'/')+lang.length+2)+path+'.html'}function wsConnect(){var config_server=localStorage.getItem('config.server_url');var server_url=config_server||'frontend.binaryws.com';endpointNotification(config_server);return new WebSocket('wss://'+server_url+'/websockets/v3?app_id='+getAppId()+'&l='+getLanguage())}function getAppId(){return localStorage.getItem('config.app_id')||(/staging\.binary\.com/i.test(window.location.hostname)?'1098':'1')}function wsSend(ws,request){if(ws&&request&&(typeof request==='undefined'?'undefined':_typeof(request))==='object'){ws.send(JSON.stringify(request))}}function endpointNotification(config_server){if(config_server&&config_server.length>0&&!document.getElementById('end_note')){var el_end_note=document.createElement('div');el_end_note.setAttribute('id','end_note');el_end_note.innerHTML='The server <a href="'+urlFor('endpoint')+'">endpoint</a> is: '+config_server;document.body.appendChild(el_end_note);document.body.style['padding-bottom']=el_end_note.offsetHeight+'px'}}function setSession(key,value){if(typeof sessionStorage!=='undefined'){try{sessionStorage.setItem(key,value);return true}catch(e){return false}}}// NodeList foreach polyfill
if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++){callback.call(thisArg,this[i],i,this)}}}function filterById(elem){return!/^(language)$/i.test(elem.id)}function toggleAllSiblings(elem,filter,class_name){elem=elem.parentNode.firstChild;do{if(elem.nodeType===3)continue;// text node
if(!filter||filter(elem)){elem.classList.toggle(class_name)}}while(elem=elem.nextSibling)}
//# sourceMappingURL=common.js.map
